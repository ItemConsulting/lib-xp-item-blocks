.blocks-card {
  --blocks-card--background-color: var(--color-theme-surface-default);
  --blocks-card--background-color-hover: var(--color-theme-surface-hover);
  --blocks-card--background-color-active: var(--color-theme-surface-active);
  --blocks-card--text-color: var(--color-theme-text-default, currentColor);
  --blocks-card--heading-color: var(--color-neutral-text-default, currentColor);
  --blocks-card--kicker-color: var(--color-accent-text-default, currentColor);
  --blocks-card--card-padding: 0;
  --blocks-card--body-padding: var(--blocks-spacing-md);
  --blocks-card--svg-padding: var(--blocks-spacing-sm);
  --blocks-card--svg-width: 160px;
  --blocks-card--body-flex: 1 1 100%;
  --blocks-card--image-flex: 0 0 auto;
  --blocks-card--image-aspect-ratio: 16 / 9;
  --blocks-card--gap: 0;

  container-type: inline-size;

  .blocks-card--card {
    display: flex;
    flex-direction: var(--blocks-card--flex-direction, column);
    height: 100%;
    padding: var(--blocks-card--card-padding);
    background-color: var(--blocks-card--background-color);
    color: var(--blocks-card--text-color);
    text-decoration: none;
    transition: 0.1s background-color;
    gap: var(--blocks-card--gap);
  }

  small {
    color: var(--blocks-card--kicker-color);
  }

  h3 {
    color: var(--blocks-card--heading-color);
  }

  a.blocks-card--card:hover {
    --blocks-card--background-color: var(--blocks-card--background-color-hover);

    h3 {
      text-decoration: 2px solid underline;
    }
  }

  a.blocks-card--card:active {
    --blocks-card--background-color: var(--blocks-card--background-color-active);
  }

  .blocks-card--body {
    align-content: space-around;
    flex: var(--blocks-card--body-flex);
    padding: var(--blocks-card--body-padding);
  }

  .blocks-card--image {
    display: flex;
    place-content: center center;
    flex: var(--blocks-card--image-flex);

    img:not([src$=".svg"]) {
      width: 100%;
      height: 100%;
      object-fit: cover;
      aspect-ratio: var(--blocks-card--image-aspect-ratio);
    }

    img[src$=".svg"] {
      width: var(--blocks-card--svg-width);
      height: 100%;
      padding: var(--blocks-card--svg-padding);
    }
  }

  @supports selector(:has(+ *)) {
    /* If this is an image only card */

    .blocks-card--card:not(:has(.blocks-card--body)) {
      --blocks-card--image-flex: 1;
      --blocks-card--card-padding: 0;
      --blocks-card--svg-width: 100%;
    }
  }
}

/* Image positions for small cards (only supports vertical) */

.blocks-card--image-left,
.blocks-card--image-top {
  --blocks-card--flex-direction: column;
}

.blocks-card--image-right,
.blocks-card--image-bottom {
  --blocks-card--flex-direction: column-reverse;
}

/* Image positions for medium cards */
@container (min-width: 420px) {

  .blocks-card--image-right .blocks-card--card {
    --blocks-card--flex-direction: row-reverse;
    --blocks-card--image-aspect-ratio: 3 / 2;
    --blocks-card--image-flex: 0 0 33.333%;
  }

  .blocks-card--image-left .blocks-card--card {
    --blocks-card--flex-direction: row;
    --blocks-card--image-aspect-ratio: 3 / 2;
    --blocks-card--image-flex: 0 0 33.333%;
  }

  .blocks-card--image-top .blocks-card--card {
    --blocks-card--flex-direction: column;
    --blocks-card--image-aspect-ratio: 16 / 9;
    --blocks-card--image-flex: 0 0 auto;
  }

  .blocks-card--image-bottom .blocks-card--card {
    --blocks-card--flex-direction: column-reverse;
    --blocks-card--image-aspect-ratio: 16 / 9;
    --blocks-card--image-flex: 0 0 auto;
  }
}

/* Image positions for large cards (only supports horizontal) */
@container (min-width: 750px) {

  .blocks-card--image-bottom .blocks-card--card,
  .blocks-card--image-right .blocks-card--card {
    --blocks-card--flex-direction: row-reverse;
    --blocks-card--image-flex: 0 0 300px;
    --blocks-card--image-aspect-ratio: 3 / 2;
  }

  .blocks-card--image-top .blocks-card--card,
  .blocks-card--image-left .blocks-card--card {
    --blocks-card--flex-direction: row;
    --blocks-card--image-flex: 0 0 300px;
    --blocks-card--image-aspect-ratio: 3 / 2;
  }
}
